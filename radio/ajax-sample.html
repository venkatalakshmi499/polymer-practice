<base href="https://polygit.org/components/" />
<link rel="import" href="polymer/polymer.html" />
<link rel="import" href="iron-ajax/iron-ajax.html" />
<dom-module id="ajax-sample">
  <style></style>
  <template>
    <iron-ajax
      id="getEmployees"
      url="http://localhost:3000/Employees"
      method="GET"
      handle-as="json"
      on-response="handleResponse"
      on-error="handleError"
    >
    </iron-ajax>
    <button on-click="getResult">Get Results</button>
  </template>
  <script>
    polymer({
      is: "ajax-sample",
      properties: {
        ajaxResponse: {
          type: String,
          value: [],
        },
      },
      getResult: function (e) {
        this.$.getEmployees.generateRequest();
      },
      handleResponse: function (e) {
        console.log(e.detail.response);
      },
    });
  </script>
</dom-module>
